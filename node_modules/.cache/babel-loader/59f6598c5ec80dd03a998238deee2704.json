{"ast":null,"code":"import _slicedToArray from\"/Users/akshaybhopani/GitHub/DCIPL/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useCallback}from'react';import'../App.css';import'./CSS/login.css';import Dashboard from'./dashboard';import FacebookLogin from'react-facebook-login';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(_ref){var IsSignIn=_ref.IsSignIn,setIsSignIn=_ref.setIsSignIn;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),Name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),Email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),Password=_useState6[0],setPassword=_useState6[1];var responseFacebook=function responseFacebook(response){console.log(response);setName(response.name);setEmail(response.email);localStorage.setItem(\"User\",response.name);localStorage.setItem(\"Email\",response.email);handleIsSignIn();};var EmailValue=function EmailValue(event){setEmail(event.target.value);};var PasswordValue=function PasswordValue(event){event.preventDefault();setPassword(event.target.value);};var handleIsSignIn=useCallback(function(event){setIsSignIn(true);localStorage.setItem(\"IsSignIn\",true);},[setIsSignIn]);var onSubmitSignIn=function onSubmitSignIn(e){e.preventDefault();document.getElementById('logo').style.display=\"block\";fetch('https://server.yourtechshow.com/signin',{method:'post',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:Email,password:Password})}).then(function(response){return response.json();}).then(function(user){if(user.id){setName(user.name);localStorage.setItem(\"User\",user.name);localStorage.setItem(\"Email\",Email);handleIsSignIn();}else{alert(\"Wrong Credentials\");document.getElementById('logo').style.display=\"none\";}});};var OnPageLoad=function OnPageLoad(){var CheckIsSignIn=localStorage.getItem(\"IsSignIn\");console.log(CheckIsSignIn);if(CheckIsSignIn){setIsSignIn(true);}else{setIsSignIn(false);}};return/*#__PURE__*/_jsx(_Fragment,{children:IsSignIn?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Dashboard,{User:Name,Email:Email,setUser:setName,setEmail:setEmail})]}):/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"neon\",\"data-text\":\"Register\",children:\"Login\"}),/*#__PURE__*/_jsx(\"div\",{className:\"login-signin\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmitSignIn,children:[/*#__PURE__*/_jsx(\"div\",{className:\"login-input-field\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Enter E-Mail ID\",required:true,onChange:EmailValue,value:Email})}),/*#__PURE__*/_jsx(\"div\",{className:\"login-input-field\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Enter your Password\",required:true,onChange:PasswordValue,value:Password})}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-button-group\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"login-button\",type:\"submit\",children:\"login\"}),/*#__PURE__*/_jsx(\"button\",{className:\"login-button\",type:\"submit\",children:/*#__PURE__*/_jsx(\"a\",{href:\"./register\",children:\"Register\"})})]}),/*#__PURE__*/_jsx(FacebookLogin,{appId:\"612293356405016\",fields:\"name,email,picture\",callback:responseFacebook,cssClass:\"reg-button\"})]})})]}),OnPageLoad(),/*#__PURE__*/_jsx(\"div\",{id:\"logo\",className:\"loadingio-spinner-rolling-kswyn6f3gj7\",children:/*#__PURE__*/_jsx(\"div\",{className:\"ldio-c9p079igqka\",children:/*#__PURE__*/_jsx(\"div\",{})})})]})});};export default Login;","map":{"version":3,"sources":["/Users/akshaybhopani/GitHub/DCIPL/src/Pages/login.js"],"names":["React","useState","useCallback","Dashboard","FacebookLogin","Login","IsSignIn","setIsSignIn","Name","setName","Email","setEmail","Password","setPassword","responseFacebook","response","console","log","name","email","localStorage","setItem","handleIsSignIn","EmailValue","event","target","value","PasswordValue","preventDefault","onSubmitSignIn","e","document","getElementById","style","display","fetch","method","headers","body","JSON","stringify","password","then","json","user","id","alert","OnPageLoad","CheckIsSignIn","getItem"],"mappings":"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","sourcesContent":["import React, { useState, useCallback } from 'react';\nimport '../App.css';\nimport './CSS/login.css';\nimport Dashboard from './dashboard';\nimport FacebookLogin from 'react-facebook-login';\n\nfunction Login({IsSignIn, setIsSignIn}) {\n  const [Name, setName] = useState(\"\");\n  const [Email, setEmail] = useState(\"\");\n  const [Password, setPassword] = useState(\"\");\n \n const responseFacebook = (response) => {\n  console.log(response);\n  setName(response.name);\n  setEmail(response.email);\n  localStorage.setItem(\"User\", response.name);\n  localStorage.setItem(\"Email\", response.email);\n  handleIsSignIn();\n}\n\n  const EmailValue = (event) => {\n  setEmail(event.target.value);\n  };\n\nconst PasswordValue = (event) => {\n  event.preventDefault();\n  setPassword(event.target.value);\n  };\n\n  const handleIsSignIn = useCallback(event => {\n    setIsSignIn(true);\n    localStorage.setItem(\"IsSignIn\", true);\n  }, [setIsSignIn])\n\nconst onSubmitSignIn = (e) => {\n  e.preventDefault();\n  document.getElementById('logo').style.display=\"block\";\n    fetch('https://server.yourtechshow.com/signin', {\n      method: 'post',\n      headers: {'Content-Type': 'application/json'},\n      body: JSON.stringify({\n        email: Email,\n        password: Password\n      })\n    })\n      .then(response => response.json())\n      .then(user => {\n        if (user.id) {\n          setName(user.name)\n          localStorage.setItem(\"User\", user.name);\n          localStorage.setItem(\"Email\", Email);\n          handleIsSignIn();\n        } else {\n          alert(\"Wrong Credentials\")\n          document.getElementById('logo').style.display=\"none\";\n        }\n      })\n  }\n\nconst OnPageLoad = () => {\nconst CheckIsSignIn = localStorage.getItem(\"IsSignIn\");\nconsole.log(CheckIsSignIn)\nif (CheckIsSignIn) {\n  setIsSignIn(true)\n} else {\n  setIsSignIn(false)\n}\n\n}\n\n\treturn (\n    <>\n    {IsSignIn ? (\n  <>\n  <br/>\n        <Dashboard User={Name} Email={Email} setUser={setName} setEmail={setEmail}/>\n</>\n      ) : (\n  <main>\n            <div className=\"login-container\">\n                <h1 className=\"neon\" data-text=\"Register\">Login</h1>\n                <div className=\"login-signin\">  \n                    <form onSubmit={onSubmitSignIn}>\n                      <div className=\"login-input-field\"><input type=\"email\" name=\"email\" placeholder=\"Enter E-Mail ID\" required onChange={EmailValue} value={Email}></input></div>\n                      <div className=\"login-input-field\"><input type=\"password\" name=\"password\" placeholder=\"Enter your Password\"  required onChange={PasswordValue} value={Password}></input></div>\n                      <div className= \"login-button-group\">\n                        <button className=\"login-button\" type=\"submit\">login</button>\n                        <button className=\"login-button\" type=\"submit\"><a href=\"./register\">Register</a></button>\n                      </div>\n                       <FacebookLogin\n    appId=\"612293356405016\"\n    \n    fields=\"name,email,picture\"\n    callback={responseFacebook} \n    cssClass=\"reg-button\"/>\n                    </form>\n                </div>\n            </div>\n              \n                {OnPageLoad()}\n               <div id=\"logo\" className=\"loadingio-spinner-rolling-kswyn6f3gj7\"><div className=\"ldio-c9p079igqka\">\n<div></div>\n</div></div>\n  </main>\n        )}\n\t\t</>\n\n\t\t)\n};\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}