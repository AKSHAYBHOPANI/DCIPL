{"ast":null,"code":"import _slicedToArray from\"/Users/akshaybhopani/GitHub/DCIPL/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useCallback}from'react';import'../App.css';import'./CSS/login.css';import Dashboard from'./dashboard';import FacebookLogin from'react-facebook-login';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(Profile){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),Name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),Email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),Password=_useState6[0],setPassword=_useState6[1];var responseFacebook=function responseFacebook(response){console.log(response);setName(response.name);setEmail(response.email);if(response.userID){Profile.setProfile(function(prevState){return Object.assign({},prevState,{id:response.id,name:response.name,email:response.email,IsSignIn:true,IsonBoarding:true});});}else{}};var EmailValue=function EmailValue(event){setEmail(event.target.value);};var PasswordValue=function PasswordValue(event){event.preventDefault();setPassword(event.target.value);};var onSubmitSignIn=function onSubmitSignIn(e){e.preventDefault();document.getElementById('logo').style.display=\"block\";fetch('https://server.yourtechshow.com/signin',{method:'post',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:Email,password:Password})}).then(function(response){return response.json();}).then(function(user){if(user.id){Profile.setProfile(function(prevState){return Object.assign({},prevState,{id:user.id,name:user.name,email:user.email,IsSignIn:true,IsonBoarding:true});});}else{alert(\"Wrong Credentials\");document.getElementById('logo').style.display=\"none\";}});};var OnPageLoad=function OnPageLoad(){var CheckIsSignInRes=localStorage.getItem(\"Profile\");var CheckIsSignIn=JSON.parse(CheckIsSignInRes);if(CheckIsSignIn){Profile.setProfile(CheckIsSignIn);console.log(CheckIsSignIn);}else{console.log(CheckIsSignIn);}};return/*#__PURE__*/_jsx(_Fragment,{children:Profile.Profile.IsSignIn?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Dashboard,{Profile:Profile}),localStorage.setItem(\"Profile\",JSON.stringify(Profile.Profile))]}):/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"neon\",\"data-text\":\"Register\",children:\"Login\"}),/*#__PURE__*/_jsx(\"div\",{className:\"login-signin\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmitSignIn,children:[/*#__PURE__*/_jsx(\"div\",{className:\"login-input-field\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Enter E-Mail ID\",required:true,onChange:EmailValue,value:Email})}),/*#__PURE__*/_jsx(\"div\",{className:\"login-input-field\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Enter your Password\",required:true,onChange:PasswordValue,value:Password})}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-button-group\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"login-button\",type:\"submit\",children:\"login\"}),/*#__PURE__*/_jsx(\"button\",{className:\"login-button\",type:\"submit\",children:/*#__PURE__*/_jsx(\"a\",{href:\"./register\",children:\"Register\"})})]}),/*#__PURE__*/_jsx(FacebookLogin,{appId:\"612293356405016\",fields:\"name,email,picture\",callback:responseFacebook,cssClass:\"reg-button\"})]})})]}),OnPageLoad(),/*#__PURE__*/_jsx(\"div\",{id:\"logo\",className:\"loadingio-spinner-rolling-kswyn6f3gj7\",children:/*#__PURE__*/_jsx(\"div\",{className:\"ldio-c9p079igqka\",children:/*#__PURE__*/_jsx(\"div\",{})})})]})});};export default Login;","map":{"version":3,"sources":["/Users/akshaybhopani/GitHub/DCIPL/src/Pages/login.js"],"names":["React","useState","useCallback","Dashboard","FacebookLogin","Login","Profile","Name","setName","Email","setEmail","Password","setPassword","responseFacebook","response","console","log","name","email","userID","setProfile","prevState","Object","assign","id","IsSignIn","IsonBoarding","EmailValue","event","target","value","PasswordValue","preventDefault","onSubmitSignIn","e","document","getElementById","style","display","fetch","method","headers","body","JSON","stringify","password","then","json","user","alert","OnPageLoad","CheckIsSignInRes","localStorage","getItem","CheckIsSignIn","parse","setItem"],"mappings":"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","sourcesContent":["import React, { useState, useCallback } from 'react';\nimport '../App.css';\nimport './CSS/login.css';\nimport Dashboard from './dashboard';\nimport FacebookLogin from 'react-facebook-login';\n\nfunction Login(Profile) {\n  const [Name, setName] = useState(\"\");\n  const [Email, setEmail] = useState(\"\");\n  const [Password, setPassword] = useState(\"\");\n \n const responseFacebook = (response) => {\n  console.log(response);\n  setName(response.name);\n  setEmail(response.email);\n  if (response.userID) {\n  Profile.setProfile(prevState => {\n    return Object.assign({}, prevState, { id: response.id, name: response.name,\n    email: response.email,\n    IsSignIn: true,\n    IsonBoarding: true });\n  });\n  } else {}\n}\n\n  const EmailValue = (event) => {\n  setEmail(event.target.value);\n  };\n\nconst PasswordValue = (event) => {\n  event.preventDefault();\n  setPassword(event.target.value);\n  };\n\n\n\nconst onSubmitSignIn = (e) => {\n  e.preventDefault();\n  document.getElementById('logo').style.display=\"block\";\n    fetch('https://server.yourtechshow.com/signin', {\n      method: 'post',\n      headers: {'Content-Type': 'application/json'},\n      body: JSON.stringify({\n        email: Email,\n        password: Password\n      })\n    })\n      .then(response => response.json())\n      .then(user => {\n        if (user.id) {\n          Profile.setProfile(prevState => {\n    return Object.assign({}, prevState, { id: user.id, name: user.name,\n    email: user.email,\n    IsSignIn: true,\n    IsonBoarding: true });\n  });\n        } else {\n          alert(\"Wrong Credentials\")\n          document.getElementById('logo').style.display=\"none\";\n        }\n      })\n  }\n\nconst OnPageLoad = () => {\nconst CheckIsSignInRes = localStorage.getItem(\"Profile\");\nconst CheckIsSignIn = JSON.parse(CheckIsSignInRes)\nif (CheckIsSignIn) {\n Profile.setProfile(CheckIsSignIn)\nconsole.log(CheckIsSignIn)\n} else {\n   console.log(CheckIsSignIn)\n}\n\n}\n\n\treturn (\n    <>\n    {Profile.Profile.IsSignIn ? (\n  <>\n  <br/>\n        <Dashboard Profile={Profile}/>\n        {localStorage.setItem(\"Profile\", JSON.stringify(Profile.Profile))}\n</>\n      ) : (\n  <main>\n            <div className=\"login-container\">\n                <h1 className=\"neon\" data-text=\"Register\">Login</h1>\n                <div className=\"login-signin\">  \n                    <form onSubmit={onSubmitSignIn}>\n                      <div className=\"login-input-field\"><input type=\"email\" name=\"email\" placeholder=\"Enter E-Mail ID\" required onChange={EmailValue} value={Email}></input></div>\n                      <div className=\"login-input-field\"><input type=\"password\" name=\"password\" placeholder=\"Enter your Password\"  required onChange={PasswordValue} value={Password}></input></div>\n                      <div className= \"login-button-group\">\n                        <button className=\"login-button\" type=\"submit\">login</button>\n                        <button className=\"login-button\" type=\"submit\"><a href=\"./register\">Register</a></button>\n                      </div>\n                       <FacebookLogin\n    appId=\"612293356405016\"\n    \n    fields=\"name,email,picture\"\n    callback={responseFacebook} \n    cssClass=\"reg-button\"/>\n                    </form>\n                </div>\n            </div>\n              \n                {OnPageLoad()}\n                \n               <div id=\"logo\" className=\"loadingio-spinner-rolling-kswyn6f3gj7\"><div className=\"ldio-c9p079igqka\">\n<div></div>\n</div></div>\n  </main>\n        )}\n\t\t</>\n\n\t\t)\n};\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}