{"ast":null,"code":"import _slicedToArray from\"C:/Users/JYOTI95/Documents/GitHub/DCIPL/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useCallback}from'react';import'../App.css';import'./CSS/login.css';import Dashboard from'./dashboard';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(_ref){var IsSignIn=_ref.IsSignIn,setIsSignIn=_ref.setIsSignIn;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),Name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),Email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),Password=_useState6[0],setPassword=_useState6[1];var EmailValue=function EmailValue(event){setEmail(event.target.value);};var PasswordValue=function PasswordValue(event){event.preventDefault();setPassword(event.target.value);};var handleIsSignIn=useCallback(function(event){setIsSignIn(true);localStorage.setItem(\"IsSignIn\",true);},[setIsSignIn]);var onSubmitSignIn=function onSubmitSignIn(){document.getElementById('logo').style.display=\"block\";fetch('https://dcipl.yourtechshow.com/signin',{method:'post',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:Email,password:Password})}).then(function(response){return response.json();}).then(function(user){if(user.id){setName(user.name);handleIsSignIn();}else{alert(\"Wrong Credentials\");document.getElementById('logo').style.display=\"none\";}});};var OnPageLoad=function OnPageLoad(){var CheckIsSignIn=localStorage.getItem(\"IsSignIn\");console.log(CheckIsSignIn);if(CheckIsSignIn){setIsSignIn(true);}else{setIsSignIn(false);}};return/*#__PURE__*/_jsx(_Fragment,{children:IsSignIn?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Dashboard,{User:Name,Email:Email})]}):/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"logregister_form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login/Register\"}),/*#__PURE__*/_jsxs(\"form\",{action:\"#\",method:\"post\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Enter E-Mail ID\",required:true,onChange:EmailValue,value:Email}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Enter your Password\",required:true,onChange:PasswordValue,value:Password}),/*#__PURE__*/_jsx(\"br\",{})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn-group\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:onSubmitSignIn,children:\"Login\"}),OnPageLoad(),/*#__PURE__*/_jsx(\"div\",{id:\"logo\",class:\"loadingio-spinner-rolling-kswyn6f3gj7\",children:/*#__PURE__*/_jsx(\"div\",{class:\"ldio-c9p079igqka\",children:/*#__PURE__*/_jsx(\"div\",{})})})]})]})})});};export default Login;","map":{"version":3,"sources":["C:/Users/JYOTI95/Documents/GitHub/DCIPL/src/Pages/login.js"],"names":["React","useState","useCallback","Dashboard","Login","IsSignIn","setIsSignIn","Name","setName","Email","setEmail","Password","setPassword","EmailValue","event","target","value","PasswordValue","preventDefault","handleIsSignIn","localStorage","setItem","onSubmitSignIn","document","getElementById","style","display","fetch","method","headers","body","JSON","stringify","email","password","then","response","json","user","id","name","alert","OnPageLoad","CheckIsSignIn","getItem","console","log"],"mappings":"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","sourcesContent":["import React, { useState, useCallback } from 'react';\r\nimport '../App.css';\r\nimport './CSS/login.css';\r\nimport Dashboard from './dashboard';\r\n\r\nfunction Login({IsSignIn, setIsSignIn}) {\r\n  const [Name, setName] = useState(\"\");\r\n  const [Email, setEmail] = useState(\"\");\r\n  const [Password, setPassword] = useState(\"\");\r\n \r\n\r\n  const EmailValue = (event) => {\r\n  setEmail(event.target.value);\r\n  };\r\n\r\nconst PasswordValue = (event) => {\r\n  event.preventDefault();\r\n  setPassword(event.target.value);\r\n  };\r\n\r\n  const handleIsSignIn = useCallback(event => {\r\n    setIsSignIn(true);\r\n    localStorage.setItem(\"IsSignIn\", true);\r\n  }, [setIsSignIn])\r\n\r\nconst onSubmitSignIn = () => {\r\n  document.getElementById('logo').style.display=\"block\";\r\n    fetch('https://dcipl.yourtechshow.com/signin', {\r\n      method: 'post',\r\n      headers: {'Content-Type': 'application/json'},\r\n      body: JSON.stringify({\r\n        email: Email,\r\n        password: Password\r\n      })\r\n    })\r\n      .then(response => response.json())\r\n      .then(user => {\r\n        if (user.id) {\r\n          setName(user.name)\r\n          handleIsSignIn();\r\n        } else {\r\n          alert(\"Wrong Credentials\")\r\n          document.getElementById('logo').style.display=\"none\";\r\n        }\r\n      })\r\n  }\r\n\r\nconst OnPageLoad = () => {\r\nconst CheckIsSignIn = localStorage.getItem(\"IsSignIn\");\r\nconsole.log(CheckIsSignIn)\r\nif (CheckIsSignIn) {\r\n  setIsSignIn(true)\r\n} else {\r\n  setIsSignIn(false)\r\n}\r\n\r\n}\r\n\r\n\treturn (\r\n    <>\r\n    {IsSignIn ? (\r\n  <>\r\n  <br/>\r\n        <Dashboard User={Name} Email={Email}/>\r\n</>\r\n      ) : (\r\n  <main>\r\n            <div>\r\n                <div className=\"logregister_form\">  \r\n                    <h2>Login/Register</h2>\r\n                    <form action=\"#\" method=\"post\">\r\n                        <br></br>\r\n                        <input type=\"email\" name=\"email\" placeholder=\"Enter E-Mail ID\" required onChange={EmailValue} value={Email}></input><br></br>\r\n                        <input type=\"password\" name=\"password\" placeholder=\"Enter your Password\"  required onChange={PasswordValue} value={Password}></input><br></br>\r\n                    </form>\r\n                </div>\r\n                <div className= \"btn-group\">\r\n                    <button type=\"submit\" onClick={onSubmitSignIn}>Login</button>\r\n                    {OnPageLoad()}\r\n                    <div id=\"logo\" class=\"loadingio-spinner-rolling-kswyn6f3gj7\"><div class=\"ldio-c9p079igqka\">\r\n<div></div>\r\n</div></div>\r\n                </div>\r\n            </div>\r\n        </main>\r\n        )}\r\n\t\t</>\r\n\r\n\t\t)\r\n};\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}